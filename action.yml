name: Install Bun from CNPM
description: For faster installation of Bun in China.
branding:
  icon: play-circle
  color: red

inputs: {}
outputs: {}

runs:
  using: composite
  steps:
    - if: runner.os == 'Linux' || runner.os == 'macOS'
      shell: bash
      run: |
        chmod +x ./install.sh
        ./install.sh
    - if: runner.os == 'Windows'
      shell: powershell
      run: ./install.ps1
    - shell: bash
      run: |
        echo "BUN_INSTALL=$HOME/.bun" >> $GITHUB_ENV
        echo "$HOME/.bun/bin" >> $GITHUB_PATH
        ls -al $HOME/.bun
        ls -al $HOME/.bun/bin
